CREATE TABLE "accounts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "person_id" integer, "crypted_password" varchar(255), "salt" varchar(255), "persistence_token" varchar(255), "single_access_token" varchar(255), "perishable_token" varchar(255), "login_count" integer, "failed_login_count" integer, "last_request_at" datetime, "current_login_at" datetime, "last_login_at" datetime, "current_login_ip" varchar(255), "last_login_ip" varchar(255), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(255), "remember_token_expires_at" varchar(255), "active" boolean, "activation_string" varchar(255), "access_level" integer);
CREATE TABLE "andrew_ids" ("andrew_id" varchar(50) NOT NULL, "person_id" integer, "contactable" boolean, "active" boolean, "verified" boolean);
CREATE TABLE "attribute_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100) NOT NULL, "browsable" boolean DEFAULT 'f', "permissions" boolean);
CREATE TABLE "attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "post_id" integer NOT NULL, "attribute_type_id" integer NOT NULL, "value" varchar(500), "confidence" integer(2) DEFAULT 0);
CREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "post_id" integer NOT NULL, "title" varchar(300) NOT NULL, "body" text, "posted_at" datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, "created_at" datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, "updated_at" datetime, "source_id" integer NOT NULL, "person_id" integer NOT NULL, "flagged" boolean, "active" boolean);
CREATE TABLE "emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "person_id" integer NOT NULL, "address" varchar(100) NOT NULL, "created_at" datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, "contactable" boolean, "active" boolean, "verified" boolean);
CREATE TABLE "images" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "post_id" integer NOT NULL, "name" varchar(200), "filename" varchar(200), "created_at" datetime);
CREATE TABLE "misc_market_import" ("post_id" integer NOT NULL, "msg_id" varchar(300) NOT NULL, "comment_id" integer);
CREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(300) NOT NULL, "created_at" datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, "confidence" integer(2) DEFAULT 0);
CREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "person_id" integer NOT NULL, "title" varchar(300) NOT NULL, "body" text, "created_at" datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, "updated_at" datetime, "posted_at" datetime NOT NULL DEFAULT CURRENT_TIMESTAMP, "source_id" integer NOT NULL, "active" boolean DEFAULT 't');
CREATE TABLE "sources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100) NOT NULL, "description" text);
CREATE TABLE "validation_permissions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "one_id" integer, "two_id" integer, "value" boolean, "created_at" datetime, "updated_at" datetime);
CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL);